<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/water.css@2/out/water.min.css">
  
  <title>Via script</title>
  <script src="https://unpkg.com/scrt-link-core@latest/dist/esbuild/browser.js"></script>

  
</head>
<body>
    <h1>One Time Secret Link</h1>
  <form id="form">
    <label>Secret: <input id="input" type="text" /></label>
    <button type="submit">Submit</button>
  </form>
  <p id="log"></p>

  <script>
    function logSubmit(event) {
      event.preventDefault();
      log.textContent = `Processingâ€¦`;
      window.createSecret(`${input.value || ""}`).then(({
        secretLink
      }) => {
        log.textContent = `Success! Your secret link is: ${secretLink}`;
      });
    }
    const form = document.getElementById("form");
    const input = document.getElementById("input");
    const log = document.getElementById("log");
    form.addEventListener("submit", logSubmit);
  </script>

    
<div class="container">
    <h1>Qr Code Generator</h1>
		<form onsubmit="handleSubmit(event)">
			<input id="inptxt"
				type="text"
				value="https://"
				autocomplete="off">
			<br>
			<button type="submit">
				Generate QR
			</button>
			<br></br>
		</form>
		<div class="img-div">
			<img id="qrimg" />
		</div>
	</div>

 <script>
	function handleSubmit(event) {
		event.preventDefault();
		let text = document.getElementById("inptxt").value;
		let qrsrc =
			`http://api.qrserver.com/v1/create-qr-code/?data=${text}`;
		let qrimg = document.getElementById("qrimg");
		qrimg.src = qrsrc;
	}
	
 </script>
</body>
</html>
